# Project Systematisator

> Методология организации проектов для работы с AI-ассистентами (Claude Code, Cursor, Copilot).

**Экономия токенов: 10-15x** на типичных задачах.

---

## Проблема

Когда работаешь с AI-ассистентом над реальным проектом:

```
Задача: "поправь логику кредитов"

AI делает:
1. grep -r "credit" .           → 500 токенов
2. cat actions.ts               → 3000 токенов
3. cat credits.ts               → 900 токенов
4. Ещё пара файлов              → 1000 токенов
─────────────────────────────────────────────────
Итого на разведку:              ~5400 токенов
```

AI тратит кучу токенов на "понимание контекста" каждый раз.

## Решение

```
Задача: "поправь логику кредитов"

AI делает:
1. Смотрит CLAUDE.md роутинг    → 100 токенов
2. Видит: credits.ts :19
3. Читает credits.ts:19-90      → 300 токенов
─────────────────────────────────────────────────
Итого на разведку:              ~400 токенов
```

**Создаём "карту проекта" для AI** — структурированную документацию с роутингом задач и индексами функций.

---

## Быстрый старт

```bash
# Клонируем
git clone https://github.com/yourusername/project-systematisator.git

# Копируем global rules (один раз)
cp project-systematisator/global.skills.md ~/.claude/global.skills.md

# В любом проекте
cd your-project
bash ~/project-systematisator/templates/init-project.sh "YourProject"
```

Создаст:
- `CLAUDE.md` — навигация для AI
- `.claude/project.skills.md` — философия проекта
- `.claude/settings.local.json` — permissions

---

## Структура системы

```
┌─────────────────────────────────────────────────────────┐
│  GLOBAL SKILLS                                          │
│  ~/.claude/global.skills.md                             │
│  ─────────────────────────────────────────────────────  │
│  Правила для ВСЕХ проектов:                             │
│  • SaaS by default                                      │
│  • Чистота кода                                         │
│  • Минимализм                                           │
└─────────────────────────────────────────────────────────┘
                    ↓ наследуется
┌─────────────────────────────────────────────────────────┐
│  PROJECT SKILLS                                         │
│  PROJECT/.claude/project.skills.md                      │
│  ─────────────────────────────────────────────────────  │
│  Специфика конкретного проекта:                         │
│  • Философия продукта                                   │
│  • Технический стек                                     │
│  • Особенности архитектуры                              │
└─────────────────────────────────────────────────────────┘
                    ↓ навигация
┌─────────────────────────────────────────────────────────┐
│  CLAUDE.md (навигация для AI)                           │
│  PROJECT/CLAUDE.md                                      │
│  ─────────────────────────────────────────────────────  │
│  • Роутинг задач (куда идти)                            │
│  • Индексы больших файлов                               │
│  • Размеры файлов                                       │
└─────────────────────────────────────────────────────────┘
```

---

## Ключевые концепции

### 1. Роутинг задач

Таблица "тип задачи → файл → строка":

```markdown
| Тип задачи | Куда идти | Строки |
|------------|-----------|--------|
| AI чат | actions.ts | :258 sendDraftMessage |
| Кредиты | credits.ts | :19 checkCredits |
| Telegram бот | api/telegram/webhook | route.ts |
```

AI сразу знает куда идти.

### 2. Индексы больших файлов

Для файлов >200 строк — таблица функций:

```markdown
## Индекс bot_logic.py (4529 строк!)

| Функция | Строка | Назначение |
|---------|--------|------------|
| cmd_start | 1363 | /start — точка входа |
| callback_leaderboard | 1526 | Лидерборд |
| is_admin | 376 | Проверка админа |
```

AI читает 50 строк индекса вместо 4500 строк кода.

### 3. Размеры файлов

```
src/lib/
├── actions.ts         (804)   # Server actions
├── bot_logic.py       (4529)  # ОГРОМНЫЙ
├── config.ts          (30)    # маленький, можно целиком
```

AI понимает что можно читать целиком, а что — только по индексу.

---

## Файлы репозитория

```
project-systematisator/
├── README.md                    # Этот файл
├── global.skills.md             # Глобальные правила (скопировать в ~/.claude/)
├── templates/
│   ├── init-project.sh          # Скрипт инициализации
│   ├── CLAUDE.md.template       # Шаблон навигации
│   └── project.skills.md.template
├── scripts/
│   └── update-index.py          # Автогенерация индексов
├── examples/
│   ├── small-project/           # Пример маленького проекта
│   └── large-project/           # Пример большого проекта
└── docs/
    └── METHODOLOGY.md           # Подробная методология
```

---

## Правила индексации

| Размер файла | Действие |
|--------------|----------|
| <50 строк | "маленький, можно целиком" |
| 50-200 | Краткое описание |
| 200-500 | Индекс основных функций |
| 500+ | Полный индекс + структура |

---

## Автообновление индексов

```bash
# Один файл
python scripts/update-index.py src/lib/actions.ts

# Все большие файлы (настрой BIG_FILES в скрипте)
python scripts/update-index.py --all
```

---

## Результаты

| Размер проекта | До | После | Экономия |
|----------------|-----|-------|----------|
| ~5,000 строк | ~2000 токенов | ~200 | 10x |
| ~8,500 строк | ~4000 токенов | ~300 | 13x |

---

## Бонусы

1. **Документирование на лету** — записывай "закиды" в project.skills.md
2. **Быстрый старт** — шаблоны для новых проектов
3. **Единый стандарт** — все проекты структурированы одинаково

---

## Автор

Создано в процессе оптимизации реальных проектов с помощью Claude Code.

Telegram: [@psclama](https://t.me/psclama)
YouTube: [Lama Drops](https://youtube.com/@ruslanllama)

---

## Лицензия

MIT — используйте как хотите.
